<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.69.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>Problem 1: Multiples of 3 and 5&nbsp;&ndash;&nbsp;Project Euler Solutions</title><link rel=stylesheet href=../../css/core.min.25a02793b61d1ffba13ee0ff5f7acd391b938d6875782c46352d469ae881aac460bc55be72396f751a0095da57213cac.css integrity=sha384-JaAnk7YdH/uhPuD/X3rNORuTjWh1eCxGNS1GmuiBqsRgvFW+cjlvdRoAldpXITys><meta name=twitter:card content="summary"><meta name=twitter:title content="Problem 1: Multiples of 3 and 5"><body><div class=base-body><section id=header class="site header"><div class="header wrap"><span class="header left-side"><a class="site home" href=../../><span class="site name">Project Euler Solutions</span></a></span>
<span class="header right-side"></span></div></section><div id=content><div class=article-container><section class="article header"><h1 class="article title">Problem 1: Multiples of 3 and 5</h1></section><article class="article markdown-body"><p>Sequence summation for numbers up to a given N.</p><h2 id=description>Description</h2><blockquote><p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get
3, 5, 6 and 9. The sum of these multiples is 23.</p><p>Find the sum of all the multiples of 3 or 5 below 1000.</p></blockquote><h2 id=iterative-solution>Iterative solution</h2><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=n>solve</span><span class=o>!</span><span class=p>(</span><span class=n>p001</span><span class=p>,</span><span class=w> </span><span class=n>iterative</span><span class=p>,</span><span class=w> </span><span class=mi>1_000</span><span class=p>,</span><span class=w> </span><span class=o>|</span><span class=n>n</span><span class=o>|</span><span class=w> </span>-&gt; <span class=nc>i128</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3</span><span class=p>..</span><span class=n>n</span><span class=p>).</span><span class=n>filter</span><span class=p>(</span><span class=o>|</span><span class=n>m</span><span class=o>|</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>).</span><span class=n>sum</span><span class=p>()</span><span class=w>
</span><span class=w></span><span class=p>});</span><span class=w>
</span></code></pre></div><h2 id=closed-form-solution>Closed form solution</h2><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>fn</span> <span class=nf>sum_to</span><span class=p>(</span><span class=n>n</span>: <span class=nc>u128</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>u128</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=n>n</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>))</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>2</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=n>solve</span><span class=o>!</span><span class=p>(</span><span class=n>p001</span><span class=p>,</span><span class=w> </span><span class=n>closed</span><span class=p>,</span><span class=w> </span><span class=mi>1_000</span><span class=p>,</span><span class=w> </span><span class=o>|</span><span class=n>n</span><span class=o>|</span><span class=w> </span>-&gt; <span class=nc>i128</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>sum_multiples</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>|</span><span class=n>x</span><span class=o>|</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>sum_to</span><span class=p>((</span><span class=n>n</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>u128</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>x</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>multiples</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>].</span><span class=n>iter</span><span class=p>().</span><span class=n>map</span><span class=p>(</span><span class=n>sum_multiples</span><span class=p>).</span><span class=n>sum</span><span class=p>();</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>product_multiples</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sum_multiples</span><span class=p>(</span><span class=o>&amp;</span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>].</span><span class=n>iter</span><span class=p>().</span><span class=n>product</span><span class=p>());</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=n>multiples</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>product_multiples</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>i128</span><span class=w>
</span><span class=w></span><span class=p>});</span><span class=w>
</span></code></pre></div><h2 id=benchmarks>Benchmarks</h2><p></p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=n>bench</span><span class=o>!</span><span class=p>(</span><span class=n>p001</span><span class=p>,</span><span class=w> </span><span class=s>&#34;p001&#34;</span><span class=p>,</span><span class=w> </span><span class=n>Logarithmic</span><span class=p>,</span><span class=w>
</span><span class=w>       </span><span class=mi>100</span><span class=w> </span><span class=mi>500</span><span class=w> </span><span class=mi>1_000</span><span class=w> </span><span class=mi>5_000</span><span class=w> </span><span class=mi>10_000</span><span class=p>,</span><span class=w>
</span><span class=w>       </span><span class=n>iterative</span><span class=w> </span>-&gt; <span class=s>&#34;iterative&#34;</span><span class=w>
</span><span class=w>       </span><span class=n>closed</span><span class=w> </span>-&gt; <span class=s>&#34;closed form&#34;</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span></code></pre></div><span class=image-container><span class=link><a href=../../images/p001_comparison.svg target=_blank><img class=img src=../../images/p001_comparison.svg></a></span></span></article></div></div><section id=footer class=footer><div class=footer-wrap><p class=copyright>Â© 2020 Krishan Wyse</p><p class=powerby><span>Powered by </span><a href=https://gohugo.io target=_blank>Hugo</a><span> and the </span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p></div></section><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css integrity=sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js integrity=sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body);></script></div></body></html>